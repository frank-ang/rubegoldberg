# Fortune Application
include ../config/config.gitignore

.DEFAULT_GOAL := help

ID_TOKEN := "eyJraWQiOiJYK0RuVEd0OVFiY3hGVythMHZJTkRpSlZtZGVuNGt2eTEyR2puN0RWVGxzPSIsImFsZyI6IlJTMjU2In0.eyJzdWIiOiI3Y2E0MWNiMy05NjRjLTQwYjctYWU1Ny1jYWI2YWNiMDE3NGYiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiaXNzIjoiaHR0cHM6XC9cL2NvZ25pdG8taWRwLmFwLXNvdXRoZWFzdC0xLmFtYXpvbmF3cy5jb21cL2FwLXNvdXRoZWFzdC0xX01ORmdBTzNyOCIsInBob25lX251bWJlcl92ZXJpZmllZCI6ZmFsc2UsImNvZ25pdG86dXNlcm5hbWUiOiJ1c2VyMDAiLCJhdWQiOiI3cmgyY28wM2hnaW4zMDdscThyNmxuNTZrMyIsImV2ZW50X2lkIjoiMGE0NTg3Y2UtNWExNC00MmQ1LWFlNzQtZjg2MWM5NmNhNGZmIiwidG9rZW5fdXNlIjoiaWQiLCJhdXRoX3RpbWUiOjE1OTY2OTQ1NDcsInBob25lX251bWJlciI6IisxMTIzMTIzMTIzIiwiZXhwIjoxNTk2Njk4MTQ3LCJpYXQiOjE1OTY2OTQ1NDcsImVtYWlsIjoiZnJhbmtsb2dpY0B5YWhvby5jb20ifQ.F2tmRo5qWrVYy0tGmNNWJRyg4Oh8L4lbZFWontJLRs2xUEb5G6G5PA679_7JmwiR4R6jj7jKQJ7XKUDSL3voo11Np2gt-gEYYj9kKmT1-qKqbmcXh1NYTZCyu27zrkKYdA9kZQZiz5PC3rWQAbsrijrQvqvgIxb5KY1F95LwVNmzme566t7diJip-U6-HhAJZ4rQnEAS4uDkg9RIBzCXiVhbUT0rTp6X6bfo3a-MpJtgS8k6Vg0vab77j2Zw0XLb3wGFeqC8tzEUYJ2aLNQMiZbm44YDyFjYk2i4wBq40h3OQ8wKG4gPj7NE34K6rQx5IQXS7NO-F70D4w-EDCZZMA"
ACCESS_TOKEN := "eyJraWQiOiJ5VlA4U1laS0Y0K3VMR25sN2NmY25oYzBGWk52UGZHbVpJM3ZcLzcxQ1k0ND0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI3Y2E0MWNiMy05NjRjLTQwYjctYWU1Ny1jYWI2YWNiMDE3NGYiLCJldmVudF9pZCI6IjM3YzkwNjZiLTRkZTgtNDJmYy05MmE4LTkwNTkyMzdmYWQwNiIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4iLCJhdXRoX3RpbWUiOjE1OTY2OTUyMDIsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5hcC1zb3V0aGVhc3QtMS5hbWF6b25hd3MuY29tXC9hcC1zb3V0aGVhc3QtMV9NTkZnQU8zcjgiLCJleHAiOjE1OTY2OTg4MDIsImlhdCI6MTU5NjY5NTIwMiwianRpIjoiYWVhZTM1ZGQtZTc3ZS00NDAzLThiNmEtZTRhODVmZDc4ZTg0IiwiY2xpZW50X2lkIjoiN3JoMmNvMDNoZ2luMzA3bHE4cjZsbjU2azMiLCJ1c2VybmFtZSI6InVzZXIwMCJ9.uqyK4c2newBN4U5ej4nLKjNDCceVAkjF07Qi_wN8FTwEhDFL3z12Ivl30Mdtyt-KMg6Leh7CmaASkUlwrTTJrUhBXTFXvqq115U7QfDfwpDuJC6vz0CllOGQleNMiVRpCNM2QOpBREKOTkFVZbhreUfqfAGnrlJUqR9cVJ4nae9p9PwPYOc6WeVNh97664pLuI1nSe2hJFIMioDcOcY77FQ6JlVj0PHzgnSWIETwgIWRP-2Gmf1S3u0tcdEWmqn8ZGmuJjSyGNtRBzjTumPFczCKOIf9_0q7GbeBj6o0xaRob0msf09IksmlSx_qVdwUnvjvL3e1EC-EFd2mVz1lkg"
TOKEN := $(ACCESS_TOKEN)

help:
	@echo "makefile for fortune"
	@echo "usage:"
	@echo "  make [ TODO ]"


test:
	curl -H 'Accept: application/json' \
		 -H "Authorization: Bearer $(TOKEN)" \
		 "https://$(API_GW_HOSTNAME)/fortune/sql" 

test-http-redis:
	curl "https://$(API_GW_HOSTNAME)/fortune/redis"
	@echo

test-http-sql:
	curl "https://$(API_GW_HOSTNAME)/fortune/sql"
	@echo
	
get-cognito-token:
	aws cognito-idp initiate-auth --auth-flow  USER_SRP_AUTH --client-id